<!DOCTYPE HTML> 
<html lang="en"> 
<head> 
<meta charset="utf-8"/> 
<title>判断是否是微信内置浏览器</title> 
</head> 
<body> 
<h1>如果用微信浏览器打开可以看到下面的文字</h1> 
<p></p> 
  <a href="1.jpg" download="1.jpg" >xiazai</a>
  <img   src="1.jpg"   id="DemoImg"   border="0"   onclick="SaveAs5(this.src)">
</body> 
</html> 
<script type="text/javascript"> 
window.onload = function(){ 
if(isWeiXin()){ 
var p = document.getElementsByTagName('p'); 
p[0].innerHTML = window.navigator.userAgent; 
} 
} 
function isWeiXin(){ 
var ua = window.navigator.userAgent.toLowerCase(); 
if(ua.match(/MicroMessenger/i) == 'micromessenger'){ 
return true; 
}else{ 
return false; 
} 
  function   SaveAs5(imgURL)
{
  var   oPop   =   window.open(imgURL,"","width=1,   height=1,   top=5000,   left=5000");
  for(;   oPop.document.readyState   !=   "complete";   )
  {
    if   (oPop.document.readyState   ==   "complete")break;
  }
  oPop.document.execCommand("SaveAs");
  oPop.close();
}
} 
</script> 
